version: 2

models:
  - name: stg_orders
    description: "Modelo de staging para pedidos, com colunas renomeadas e tratamentos básicos."
    columns:
      - name: id_pedido
        description: "Identificador único do pedido (anteriomente era order_id)"
        data_tests:
          - unique
          - not_null
      - name: id_parceiro
        description: "Identificador único do parceiro por pedido (anteriomente era customer_id)"
        data_tests:
          - not_null
      - name: situ_pedido
        description: "Situação do pedido (anteriomente era order_status)"
        data_tests:
          - not_null
        
      - name: data_compra
        description: "Data e hora da compra (anteriomente era order_purchase_timestamp)"
        data_tests:
          - not_null
      - name: pedido_aprovado_em
        description: "Data e hora da aprovação do pedido (anteriomente era order_approved_at)"
      - name: data_entrega_transportadora
        description: "Data e hora da entrega ao parceiro logístico (anteriomente era order_delivered_carrier_date)"
      - name: data_entrega_parceiro
        description: "Data real de entrega ao parceiro (anteriomente era order_delivered_customer_date)"
      - name: data_estimada_entrega
        description: "Data estimada de entrega informada ao parceiro (anteriomente era order_estimated_delivery_date)"